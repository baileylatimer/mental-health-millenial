{"version":3,"sources":["webpack:///./src/components/ProductGrid/styles.js","webpack:///./src/templates/Collection/index.js"],"names":["Grid","styled","div","breakpoints","s","Product","Title","span","PriceTag","CollectionPage","collection","data","shopifyCollection","checkout","useContext","StoreContext","store","console","log","products","title","length","map","price","id","handle","firstImage","images","firstVariant","variants","key","to","localFile","fluid","childImageSharp","alt","Intl","NumberFormat","undefined","currency","currencyCode","minimumFractionDigits","style","format","parseFloat"],"mappings":"qRAKaA,EAAOC,IAAOC,IAAV,wLAKMC,IAAYC,GAKtBC,EAAUJ,IAAOC,IAAV,8FAMPI,EAAQL,IAAOM,KAAV,8FAMLC,EAAWP,IAAOM,KAAV,oE,kCC3BrB,gFAsFeE,UA5EQ,SAAC,GAAa,IAC3BC,EAD0B,EAAVC,KACEC,kBACRC,EAAcC,qBAAWC,KAAjCC,MAAQH,SACjBI,QAAQC,IAAIR,EAAWS,UAStB,OACI,6BACJ,4BAAKT,EAAWU,OAEhB,kBAAC,IAAD,KACGV,EAAWS,SAASE,OAAS,EAG5BX,EAAWS,SAASG,KAAI,gBAdXC,EAccC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQL,EAAf,EAAeA,MAAgBM,EAA/B,EAAsBC,OAAtB,GAAuDC,EAAvD,EAA4CC,SAA5C,UACtB,kBAAC,IAAD,CAASC,IAAKN,GACZ,kBAAC,OAAD,CAAMO,GAAE,YAAcN,EAAd,KACLC,GAAcA,EAAWM,WACvB,kBAAC,IAAD,CACCC,MAAOP,EAAWM,UAAUE,gBAAgBD,MAC5CE,IAAKV,KAGX,kBAAC,IAAD,KAAQL,GACR,kBAAC,IAAD,MAxBSG,EAwBWK,EAAaL,MAxBfa,KAAKC,kBAAaC,EAAW,CACnDC,SAAU1B,EAAS2B,aAAe3B,EAAS2B,aAAe,MAC1DC,sBAAuB,EACvBC,MAAO,aACNC,OAAOC,WAAWrB,GAAgB,UAuBjC","file":"component---src-templates-collection-index-js-38f0df190586136197fb.js","sourcesContent":["import styled from '@emotion/styled'\n\nimport { breakpoints } from '../../utils/styles'\n\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2.5rem;\n\n  @media (max-width: ${breakpoints.s}px){\n    grid-template-columns: repeat(1, 1fr);\n  }\n`\n\nexport const Product = styled.div`\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n`\n\nexport const Title = styled.span`\n  font-weight: 300;\n  font-size: 1.2rem;\n  text-align: center;\n`\n\nexport const PriceTag = styled.span`\n\n\n  :before {\n    content: ''\n  }\n`","import React, { useContext } from 'react'\nimport {  graphql, Link } from 'gatsby'\nimport StoreContext from '~/context/StoreContext'\nimport {\n  Grid,\n  Product,\n  Title,\n  PriceTag\n} from '~/components/ProductGrid/styles'\nimport { Img } from '~/utils/styles'\nconst CollectionPage = ({ data })=> {\n    const collection = data.shopifyCollection\n    const { store: {checkout} } = useContext(StoreContext)\n   console.log(collection.products)\n\n\n    const getPrice = price => Intl.NumberFormat(undefined, {\n        currency: checkout.currencyCode ? checkout.currencyCode : 'EUR',\n        minimumFractionDigits: 2,\n        style: 'currency',\n      }).format(parseFloat(price ? price : 0))\n    \n    return (\n        <div>\n    <h1>{collection.title}</h1>\n   \n    <Grid>\n      {collection.products.length > 0\n        ?\n        \n        collection.products.map(({ id, handle, title, images: [firstImage], variants: [firstVariant] } ) => (\n          <Product key={id} >\n            <Link to={`/product/${handle}/`}>\n              {firstImage && firstImage.localFile &&\n                (<Img\n                  fluid={firstImage.localFile.childImageSharp.fluid}\n                  alt={handle}\n                />)}\n            </Link>\n            <Title>{title}</Title>\n            <PriceTag>{getPrice(firstVariant.price)}</PriceTag>\n          </Product>\n        ))\n        : <p>No Products found!</p>}\n    </Grid>\n    </div>\n    )\n\n\n} \nexport const query = graphql`\nquery($handle: String!) {\n    \n    shopifyCollection(handle: { eq: $handle }) {\n    \n        title\n\n        products {\n          \n          \n            id\n            title\n            handle\n            createdAt\n            images {\n              id\n              originalSrc\n              localFile {\n                childImageSharp {\n                  fluid(maxWidth: 910) {\n                    ...GatsbyImageSharpFluid_withWebp\n                  }\n                }\n              }\n            }\n            variants {\n              price\n            \n          \n        }\n      }\n    }\n  }\n  \n`\n\nexport default CollectionPage"],"sourceRoot":""}